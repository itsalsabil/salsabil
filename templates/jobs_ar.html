<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø© - ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙˆØ¸ÙŠÙ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/rtl-mobile-menu.css') }}">

</head>
<body>
    <header>
        <nav class="navbar">
            <div class="container navbar-container">
                <button class="menu-toggle" onclick="toggleMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <a href="/jobs_ar" class="logo-link">
                    <div class="logo">
                        <img src="{{ url_for('static', filename='img/logo.jpeg') }}" alt="Ø´Ø¹Ø§Ø± Ø³Ù„Ø³Ø¨ÙŠÙ„" class="logo-img">
                        <div class="logo-text-container">
                            <span class="logo-text">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
                            <span class="logo-subtitle">Ø§Ø¨Ø­Ø« Ø¹Ù† ØªØ­Ø¯ÙŠÙƒ Ø§Ù„Ù‚Ø§Ø¯Ù…</span>
                        </div>
                    </div>
                </a>
                <ul class="nav-links" id="navLinks">
                    <li><a href="https://salsabil-km.com/" class="nav-link">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li class="dropdown">
                        <a href="https://salsabil-km.com/about" class="nav-link dropdown-toggle">
                            Ù…Ù† Ù†Ø­Ù†
                            <svg class="dropdown-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="https://salsabil-km.com/about#history" class="dropdown-item">Ø§Ù„ØªØ§Ø±ÙŠØ®</a></li>
                            <li><a href="https://salsabil-km.com/about#vision" class="dropdown-item">Ø§Ù„Ø±Ø¤ÙŠØ©</a></li>
                            <li><a href="https://salsabil-km.com/about#message" class="dropdown-item">Ø§Ù„Ù…Ù‡Ù…Ø©</a></li>
                            <li><a href="https://salsabil-km.com/about#values" class="dropdown-item">Ø§Ù„Ù‚ÙŠÙ…</a></li>
                            <li><a href="https://salsabil-km.com/about#objectives" class="dropdown-item">Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</a></li>
                        </ul>
                    </li>
                    <li><a href="https://salsabil-km.com/products" class="nav-link">Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</a></li>
                    <li><a href="https://salsabil-km.com/events" class="nav-link">Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</a></li>
                    <li><a href="https://salsabil-km.com/achievements" class="nav-link">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</a></li>
                    <li><a href="https://salsabil-km.com/gallery" class="nav-link">Ø§Ù„Ù…Ø¹Ø±Ø¶</a></li>
                    <li><a href="https://salsabil-km.com/news" class="nav-link">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a></li>
                    <li><a href="https://salsabil-km.com/contact" class="nav-link">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                    <li><a href="/jobs_ar" class="nav-link active">Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø©</a></li>
                    <li><a href="/jobs" class="nav-link">ğŸ‡«ğŸ‡· FranÃ§ais</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Overlay pour fermer le menu mobile -->
    <div class="nav-overlay" id="navOverlay" onclick="toggleMenu()"></div>

    <main>
        <section class="jobs-header">
            <div class="container">
                <h2>Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
                <p>Ø§Ø¨Ø­Ø« Ø¹Ù† ØªØ­Ø¯ÙŠÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠ Ø§Ù„Ù‚Ø§Ø¯Ù…</p>
            </div>
        </section>

        <section class="jobs-list">
            <div class="container">
                {% if jobs %}
                    <!-- ÙÙ„Ø§ØªØ± Ø§Ù„Ø¨Ø­Ø« -->
                    <div class="search-filters">
                        <div class="filter-header">
                            <h3>ğŸ” Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ©</h3>
                            <button onclick="toggleFilters()" class="btn-toggle-filters" id="toggleFiltersBtn">
                                <span id="filterToggleText">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙÙ„Ø§ØªØ±</span>
                                <svg id="filterToggleIcon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="18 15 12 9 6 15"></polyline>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="filters-container" id="filtersContainer">
                            <div class="filter-row-single">
                                <!-- Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© -->
                                <div class="filter-group">
                                    <label for="searchInput">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="11" cy="11" r="8"></circle>
                                            <path d="m21 21-4.35-4.35"></path>
                                        </svg>
                                        Ø¨Ø­Ø«
                                    </label>
                                    <input type="text" id="searchInput" placeholder="Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠØŒ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª..." onkeyup="filterJobs()">
                                </div>
                                
                                <!-- Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ù… -->
                                <div class="filter-group">
                                    <label for="departmentFilter">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="7" height="7"></rect>
                                            <rect x="14" y="3" width="7" height="7"></rect>
                                            <rect x="14" y="14" width="7" height="7"></rect>
                                            <rect x="3" y="14" width="7" height="7"></rect>
                                        </svg>
                                        Ø§Ù„Ù‚Ø³Ù…
                                    </label>
                                    <select id="departmentFilter" onchange="filterJobs()">
                                        <option value="">Ø§Ù„ÙƒÙ„</option>
                                        {% set departments = [] %}
                                        {% for job in jobs %}
                                            {% if job.department not in departments %}
                                                {% set _ = departments.append(job.department) %}
                                            {% endif %}
                                        {% endfor %}
                                        {% for dept in departments|sort %}
                                        <option value="{{ dept }}">{{ dept }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <!-- Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
                                <div class="filter-group">
                                    <label for="locationFilter">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                            <circle cx="12" cy="10" r="3"></circle>
                                        </svg>
                                        Ø§Ù„Ù…ÙˆÙ‚Ø¹
                                    </label>
                                    <select id="locationFilter" onchange="filterJobs()">
                                        <option value="">Ø§Ù„ÙƒÙ„</option>
                                        {% set locations = [] %}
                                        {% for job in jobs %}
                                            {% if job.location not in locations %}
                                                {% set _ = locations.append(job.location) %}
                                            {% endif %}
                                        {% endfor %}
                                        {% for loc in locations|sort %}
                                        <option value="{{ loc }}">{{ loc }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <!-- Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø¯ -->
                                <div class="filter-group">
                                    <label for="typeFilter">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14 2 14 8 20 8"></polyline>
                                            <line x1="16" y1="13" x2="8" y2="13"></line>
                                            <line x1="16" y1="17" x2="8" y2="17"></line>
                                            <polyline points="10 9 9 9 8 9"></polyline>
                                        </svg>
                                        Ø§Ù„Ù†ÙˆØ¹
                                    </label>
                                    <select id="typeFilter" onchange="filterJobs()">
                                        <option value="">Ø§Ù„ÙƒÙ„</option>
                                        {% set types = [] %}
                                        {% for job in jobs %}
                                            {% if job.type not in types %}
                                                {% set _ = types.append(job.type) %}
                                            {% endif %}
                                        {% endfor %}
                                        {% for type in types|sort %}
                                        <option value="{{ type }}">{{ type }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <!-- Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ© -->
                                <div class="filter-group">
                                    <label for="languageFilter">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <path d="M2 12h20"></path>
                                            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                                        </svg>
                                        Ø§Ù„Ù„ØºØ©
                                    </label>
                                    <select id="languageFilter" onchange="filterJobs()">
                                        <option value="">Ø§Ù„ÙƒÙ„</option>
                                        <option value="Arabe">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                                        <option value="Anglais">ğŸ‡¬ğŸ‡§ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</option>
                                        <option value="FranÃ§ais">ğŸ‡«ğŸ‡· Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="filter-actions">
                                <button onclick="resetFilters()" class="btn-reset">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="1 4 1 10 7 10"></polyline>
                                        <polyline points="23 20 23 14 17 14"></polyline>
                                        <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                                    </svg>
                                    Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                                </button>
                                <div class="results-count">
                                    <span id="resultsCount">{{ jobs|length }}</span> ÙˆØ¸ÙŠÙØ© Ù…ØªØ§Ø­Ø©
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="jobs-grid">
                        {% for job in jobs %}
                        <div class="job-card" 
                             data-title="{{ job.title|lower }}" 
                             data-description="{{ job.description|lower }}"
                             data-department="{{ job.department }}"
                             data-location="{{ job.location }}"
                             data-type="{{ job.type }}"
                             data-languages="{{ job.langues_requises|lower if job.langues_requises else '' }}"
                             data-requirements="{{ job.requirements|join(' ')|lower }}">
                            <div class="job-header">
                                <h3>{{ job.title }}</h3>
                                <div class="job-badges">
                                    <span class="job-type {{ job.type.lower() }}">{{ job.type }}</span>
                                    {% if is_closing_soon(job.deadline) %}
                                    <span class="badge-closing-soon">â° Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ Ù‚Ø±ÙŠØ¨</span>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="job-meta">
                                <span class="job-department">ğŸ“ {{ job.department }}</span>
                                <span class="job-location">ğŸ“ {{ job.location }}</span>
                                <span class="job-deadline">ğŸ“… Ø¢Ø®Ø± Ù…ÙˆØ¹Ø¯: {{ job.deadline }}</span>
                            </div>
                            <p class="job-description">{{ job.description }}</p>
                            <div class="job-requirements">
                                <h4>Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</h4>
                                <ul>
                                    {% for req in job.requirements[:3] %}
                                    <li>{{ req }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                            {% if job.langues_requises %}
                            <div class="job-languages">
                                <h4>ğŸŒ Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</h4>
                                <div class="language-tags">
                                    {% set langues = job.langues_requises.split(', ') %}
                                    {% for langue in langues %}
                                    <span class="language-tag">
                                        {% if langue == 'Arabe' %}ğŸ‡¸ğŸ‡¦
                                        {% elif langue == 'Anglais' %}ğŸ‡¬ğŸ‡§
                                        {% elif langue == 'FranÃ§ais' %}ğŸ‡«ğŸ‡·
                                        {% endif %}
                                        {{ langue }}
                                    </span>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}
                            <div class="job-footer">
                                <div class="job-footer-left">
                                    <span class="job-date">Ù†ÙØ´Ø± ÙÙŠ {{ job.posted_date }}</span>
                                    <div class="job-share">
                                        <span class="share-label">Ù…Ø´Ø§Ø±ÙƒØ©:</span>
                                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://salsabil-47oo.onrender.com/apply_ar/{{ job.id }}" target="_blank" class="share-btn linkedin" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                                            </svg>
                                        </a>
                                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://salsabil-47oo.onrender.com/apply_ar/{{ job.id }}" target="_blank" class="share-btn facebook" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/>
                                            </svg>
                                        </a>
                                        <a href="https://twitter.com/intent/tweet?url=https://salsabil-47oo.onrender.com/apply_ar/{{ job.id }}&text=Ø§ÙƒØªØ´Ù Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸ÙŠÙØ©: {{ job.title }}" target="_blank" class="share-btn twitter" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙˆÙŠØªØ±">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                                            </svg>
                                        </a>
                                        <a href="https://wa.me/?text=Ø§ÙƒØªØ´Ù Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸ÙŠÙØ©: {{ job.title }} - https://salsabil-47oo.onrender.com/apply_ar/{{ job.id }}" target="_blank" class="share-btn whatsapp" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
                                            </svg>
                                        </a>
                                        <a href="mailto:?subject=ÙˆØ¸ÙŠÙØ©: {{ job.title }}&body=Ø§ÙƒØªØ´Ù Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸ÙŠÙØ©: https://salsabil-47oo.onrender.com/apply_ar/{{ job.id }}" class="share-btn email" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z"/>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                                <a href="/apply_ar/{{ job.id }}" class="btn-apply">Ù‚Ø¯Ù‘Ù… Ø§Ù„Ø¢Ù†</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="no-jobs">
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØ¸Ø§Ø¦Ù Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù‚Ø±ÙŠØ¨Ù‹Ø§!</p>
                    </div>
                {% endif %}
            </div>
        </section>

        <section class="cta-section">
            <div class="container">
                {% if spontaneous_open %}
                    <h3>Ù„Ù… ØªØ¬Ø¯ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©ØŸ</h3>
                    <p>Ø£Ø±Ø³Ù„ Ù„Ù†Ø§ Ø·Ù„Ø¨Ù‹Ø§ Ø¹ÙÙˆÙŠÙ‹Ø§ØŒ Ø³Ù†ÙƒÙˆÙ† Ø³Ø¹Ø¯Ø§Ø¡ Ø¨Ù„Ù‚Ø§Ø¦Ùƒ!</p>
                    <a href="{{ url_for('apply_ar', job_id=0) }}" class="btn-secondary">Ø·Ù„Ø¨ ØªÙˆØ¸ÙŠÙ Ø¹ÙÙˆÙŠ</a>
                {% else %}
                    <div style="text-align: center; padding: 2rem; background: #fff3cd; border-radius: 8px; border: 2px solid #ffc107;">
                        <h3 style="color: #856404; margin-bottom: 1rem;">
                            <span style="font-size: 2rem;">ğŸ”’</span><br>
                            Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹ÙÙˆÙŠØ© Ù…ØºÙ„Ù‚Ø© Ù…Ø¤Ù‚ØªØ§Ù‹
                        </h3>
                        <p style="color: #856404; font-size: 1.1rem; line-height: 1.6; margin-bottom: 1rem;">
                            Ù†Ø¸Ø±Ø§Ù‹ Ù„Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ¨ÙŠØ± Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹ÙÙˆÙŠØ© Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø§Ù„Ø°ÙŠ ØªØ³ØªØ­Ù‚Ù‡.
                        </p>
                        <p style="color: #666; font-size: 0.95rem;">
                            Ù†Ø¯Ø¹ÙˆÙƒ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ØªØ§Ø­Ø© Ø£Ø¹Ù„Ø§Ù‡. Ø³ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ÙØªØ­ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹ÙÙˆÙŠØ© Ù‚Ø±ÙŠØ¨Ø§Ù‹. Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙÙ‡Ù…ÙƒÙ…!
                        </p>
                    </div>
                {% endif %}
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙˆØ¸ÙŠÙ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
        </div>
    </footer>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">
                        {{ message }}
                        <button onclick="this.parentElement.style.display='none'">&times;</button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <script>
        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            const menuToggle = document.querySelector('.menu-toggle');
            const navOverlay = document.getElementById('navOverlay');
            
            navLinks.classList.toggle('active');
            menuToggle.classList.toggle('active');
            if (navOverlay) {
                navOverlay.classList.toggle('active');
            }
            
            // EmpÃªcher le dÃ©filement quand le menu est ouvert
            if (navLinks.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.addEventListener('click', function(event) {
            const navbar = document.querySelector('.navbar');
            const navLinks = document.getElementById('navLinks');
            const menuToggle = document.querySelector('.menu-toggle');
            const navOverlay = document.getElementById('navOverlay');
            
            if (!navbar.contains(event.target) && navLinks.classList.contains('active')) {
                navLinks.classList.remove('active');
                menuToggle.classList.remove('active');
                if (navOverlay) {
                    navOverlay.classList.remove('active');
                }
                document.body.style.overflow = '';
            }
        });

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©
        document.addEventListener('DOMContentLoaded', function() {
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©
            if (window.innerWidth <= 768) {
                const container = document.getElementById('filtersContainer');
                const text = document.getElementById('filterToggleText');
                const icon = document.getElementById('filterToggleIcon');
                
                if (container) {
                    container.style.display = 'none';
                    text.textContent = 'Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙÙ„Ø§ØªØ±';
                    icon.innerHTML = '<polyline points="6 9 12 15 18 9"></polyline>';
                }
            }
            
            document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        const dropdown = this.closest('.dropdown');
                        const isActive = dropdown.classList.contains('active');
                        
                        // Ø¥ØºÙ„Ø§Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© Ø§Ù„Ø£Ø®Ø±Ù‰
                        document.querySelectorAll('.dropdown').forEach(d => {
                            d.classList.remove('active');
                        });
                        
                        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                        if (!isActive) {
                            dropdown.classList.add('active');
                        }
                    }
                });
            });
        });

        // ============================================
        // Ù†Ø¸Ø§Ù… ØªØµÙÙŠØ© Ø§Ù„ÙˆØ¸Ø§Ø¦Ù
        // ============================================
        
        function toggleFilters() {
            const container = document.getElementById('filtersContainer');
            const btn = document.getElementById('toggleFiltersBtn');
            const text = document.getElementById('filterToggleText');
            const icon = document.getElementById('filterToggleIcon');
            
            if (container.style.display === 'none') {
                container.style.display = 'block';
                text.textContent = 'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙÙ„Ø§ØªØ±';
                icon.innerHTML = '<polyline points="18 15 12 9 6 15"></polyline>';
            } else {
                container.style.display = 'none';
                text.textContent = 'Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙÙ„Ø§ØªØ±';
                icon.innerHTML = '<polyline points="6 9 12 15 18 9"></polyline>';
            }
        }
        
        function filterJobs() {
            const searchValue = document.getElementById('searchInput').value.toLowerCase();
            const departmentValue = document.getElementById('departmentFilter').value;
            const locationValue = document.getElementById('locationFilter').value;
            const typeValue = document.getElementById('typeFilter').value;
            const languageValue = document.getElementById('languageFilter').value.toLowerCase();
            
            const jobCards = document.querySelectorAll('.job-card');
            let visibleCount = 0;
            
            jobCards.forEach(card => {
                const title = card.getAttribute('data-title');
                const description = card.getAttribute('data-description');
                const requirements = card.getAttribute('data-requirements');
                const department = card.getAttribute('data-department');
                const location = card.getAttribute('data-location');
                const type = card.getAttribute('data-type');
                const languages = card.getAttribute('data-languages');
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±
                const matchesSearch = !searchValue || 
                                     title.includes(searchValue) || 
                                     description.includes(searchValue) ||
                                     requirements.includes(searchValue);
                                     
                const matchesDepartment = !departmentValue || department === departmentValue;
                const matchesLocation = !locationValue || location === locationValue;
                const matchesType = !typeValue || type === typeValue;
                const matchesLanguage = !languageValue || languages.includes(languageValue);
                
                // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
                if (matchesSearch && matchesDepartment && matchesLocation && matchesType && matchesLanguage) {
                    card.style.display = 'block';
                    // Ø­Ø±ÙƒØ© Ø§Ù„Ø¸Ù‡ÙˆØ±
                    card.style.animation = 'fadeIn 0.3s ease-in';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
            document.getElementById('resultsCount').textContent = visibleCount;
            
            // Ø±Ø³Ø§Ù„Ø© Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬
            const jobsGrid = document.querySelector('.jobs-grid');
            let noResultsMsg = document.getElementById('noResultsMessage');
            
            if (visibleCount === 0) {
                if (!noResultsMsg) {
                    noResultsMsg = document.createElement('div');
                    noResultsMsg.id = 'noResultsMessage';
                    noResultsMsg.className = 'no-results-message';
                    noResultsMsg.innerHTML = `
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <h3>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙˆØ¸Ø§Ø¦Ù</h3>
                        <p>Ø­Ø§ÙˆÙ„ ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø« Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±.</p>
                    `;
                    jobsGrid.parentNode.insertBefore(noResultsMsg, jobsGrid);
                }
                noResultsMsg.style.display = 'block';
                jobsGrid.style.display = 'none';
            } else {
                if (noResultsMsg) {
                    noResultsMsg.style.display = 'none';
                }
                jobsGrid.style.display = 'grid';
            }
        }
        
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('departmentFilter').value = '';
            document.getElementById('locationFilter').value = '';
            document.getElementById('typeFilter').value = '';
            document.getElementById('languageFilter').value = '';
            
            filterJobs();
            
            // Ø­Ø±ÙƒØ© Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø©
            const resetBtn = document.querySelector('.btn-reset');
            resetBtn.style.transform = 'rotate(360deg)';
            setTimeout(() => {
                resetBtn.style.transform = 'rotate(0deg)';
            }, 300);
        }
        
        // Ø­Ø±ÙƒØ© Ø§Ù„Ø¸Ù‡ÙˆØ± Ø§Ù„ØªØ¯Ø±ÙŠØ¬ÙŠ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
